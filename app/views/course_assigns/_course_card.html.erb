<li class="flex flex-col md:flex-row p-6 box-shadow-medium w-full relative rounded" data-controller="assigns">
  <%= image_tag course_banner(course, :vertical), class: 'h-[118px] w-[152px] md:h-[208px] md:w-[140px] rounded-l object-cover' %>
  
  <div class="flex flex-col md:ps-4 pt-2 w-full gap-4">
    <div class="relative">
      <%= f.check_box :course_ids, 
          { 
            multiple: true, 
            class: "absolute -top-32 md:top-2 right-0 w-6 h-6 border-2 rounded border-secondary checked:bg-secondary checked:border-secondary checked:focus:bg-secondary focus:ring-0", 
            data: { action: "assigns#toggle" } 
          }, 
          course.id, 
          false %>

      <div class="flex flex-col gap-4">
        <p class="text-primary overflow-hidden text-ellipsis text-base font-semibold">
          <%= course.title %>
        </p>
        <div class="flex justify-start space-x-1 md:space-x-4">
          <div class="flex items-center">
            <span class="icon icon-lessons h-3.5 w-3.5 bg-primary"></span>
            <span class="ml-2 text-xs font-medium"><%= modules_count(course) %></span>
          </div>
          <div class="flex items-center">
            <span class="icon icon-clock h-3.5 w-3.5 bg-primary"></span>
            <span class="ml-2 text-xs font-medium"><%= course_duration(course) %></span>
          </div>
          <div class="flex items-center">
            <span class="icon icon-user h-3.5 w-3.5 bg-primary"></span>
            <span class="ml-2 text-xs font-medium"><%= enroll_count(course) %></span>
          </div>
        </div>
        <p class="max-h-[20px] overflow-hidden text-ellipsis text-sm font-medium tracking-tight">Course Description</p>
        <div class="p-4 text-justify text-sm tracking-tight bg-primary-light-50 rounded-lg">
          <div class="h-full overflow-hidden flex items-center text-sm">
            <%= course_description(course) %>
          </div>
        </div>
      </div>
      <div class="flex flex-col md:flex-row gap-2 items-start md:items-center absolute -top-24 md:top-0 -right-4 md:right-12 invisible opacity-0" data-assigns-target="durationContainer">
        <label for="duration" class="font-medium text-sm md:text-base">Assign Duration:</label>
        <div class="flex items-center">
          <%= f.select "duration[]", options_for_duration, {}, disabled: true, id: 'duration', class: "border border-line-colour-light box-shadow-small rounded focus:ring-0 p-0 px-1 h-6 text-sm", data: { assigns_target: "dateSelector", duration: 'duration' } %>
          <input type="date" class="border-0 focus:ring-0 text-sm md:text-base" data-action="change->assigns#datePicked" />
        </div>
      </div>
    </div>
  </div>
</li>
