<div class="bg-primary-light-50 p-6 rounded-xl border border-slate-grey-light" id="<%= dom_id(question)%>">  
  <div class="flex flex-col gap-3 md:flex-row md:justify-between md:items-center">
    <div class="flex items-center gap-1 main-text-sm-medium">
      <% if question.is_verified %>
        <%= icon("check-badge-solid", css: "h-5 w-5 cursor-pointer text-primary") %>
      <% end %>
      <span>Question <%= ((params[:page]||'1').to_i-1)*5 + index+1 %> of <%= count %></span>
    </div>
    <div class="flex gap-3">
      <%= link_to edit_course_question_path(question.course, question, tab: params[:tab], page: params[:page]),
                  class: "w-full", data: { turbo_frame: "modal" } do %>
        <%= button_component text: "Edit", size: "sm", type: "outline", icon_name: "pencil" %>
      <% end %>
      <%= link_to alert_modal_path(
                    title: t("alert.title", resource_name: "Question"),
                    description: t("alert.description", label: "", resource_name: "question"),
                    action_path: course_question_path(question.course, question, tab: params[:tab], page: params[:page]),
                    method: :delete
                  ), class: "w-full", data: { turbo_frame: "modal" } do %>
        <%= button_component text: "Delete", size: "sm", type: "outline", colorscheme: "danger", icon_name: "trash" %>
      <% end %>
    </div>
  </div>

  <p class="main-text-lg-semibold my-4">
    <%= question.content %>
  </p>

  <div class="space-y-4">  
    <% question.options.each do |option_text| %>
      
      <% is_correct_answer = question.answers.include?(option_text) %>
      
      <div class="flex items-center p-4 rounded-lg bg-white main-text-sm-normal border
                    <%= is_correct_answer ? 'border-secondary-dark' : 'border-line-colour-light' %>">
        
        <div class="mr-4 flex-shrink-0">
          <% if is_correct_answer %>
            <div class="h-5 w-5 rounded bg-secondary-dark flex items-center justify-center">
              <%= icon("check", css: "h-4 w-4 text-white") %>
            </div>
          <% else %>
            <div class="h-5 w-5 rounded border-2 border-disabled-color bg-white"></div>
          <% end %>
        </div>

        <span class="text-base text-gray-800 flex-grow">
          <%= option_text %>
        </span>
      </div>
    <% end %>
  </div>

  <div class="pt-6 flex justify-end">
    <%= render "questions/verification_button", question: question %>
  </div>
  
</div>