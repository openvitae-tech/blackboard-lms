
<% if input.icon_name.present? %>
    <% icon_tag = content_tag(:div, class: input.icon_style) do %>
        <%= icon(input.icon_name, css: input.icon_size) %>
    <% end %>
<% end %>

<% input_wrapper = content_tag :div, class: input.input_wrapper_style do %>
    <% if input.form.present? %>
        <% input_tag = case input.type %>
        <% when "password" %>
            <% input.form.password_field input.name, input.html_options %>
        <% when "email" %>
            <% input.form.email_field input.name, input.html_options %>
        <% when "number" %>
            <% input.form.number_field input.name, input.html_options %>
        <% else %>
            <% input.form.text_field input.name, input.html_options %>
        <% end %>
    <% else %>
        <% input_tag = case input.type %>
        <% when "password" %>
            <% password_field_tag input.name, input.value, input.html_options %>
        <% when "email" %>
            <% email_field_tag input.name, input.value, input.html_options %>
        <% when "number" %>
            <% number_field_tag input.name, input.value, input.html_options %>
        <% else %>
            <% text_field_tag input.name, input.value, input.html_options %>
        <% end %>
    <% end %>

    <%= input_with_icon(icon_tag, input_tag, input.icon_position) %>
<% end %>


<div class="w-full flex flex-col gap-1">
  <% if input.label.present? %>
    <label>
      <span class="<%= input.label_style %> inline-block mb-1"><%= input.label %></span>
      <%= input_wrapper %>
    </label>
  <% else %>
    <%= input_wrapper %>
  <% end %>

  <% if input.subtext.present? %>
    <span class="<%= input.subtext_style %>">
      <%= input.subtext %>
    </span>
  <% end %>
</div>
