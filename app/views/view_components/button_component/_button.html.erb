<% button_content = capture do %>
  <%= tag.div(**button.html_options,
              class: [
                button.base_styles,
                button.color_styles,
                button.sizing_styles].join(' ')) do %>
    <% content = button.text.present? ? content_tag(:div, button.text, class: button.text_styles) : nil %>
    <% icon = icon(button.icon_name, css: button.icon_styles) if button.icon_name.present? %>
    <%= arrange_tags(icon, content, button.icon_position) %>
  <% end %>
<% end %>

<%= button.tooltip_text.present? ? render('shared/components/tooltip', tooltip_position: button.tooltip_position, tooltip_text: button.tooltip_text) { button_content } : button_content %>
