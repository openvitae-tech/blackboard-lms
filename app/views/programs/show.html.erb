<div data-controller="programs">
  <% if current_user.privileged_user? %>
    <%= render "shared/components/bread_crumbs", links: [["Programs", programs_path], [@program.name, nil]] %>
  <% else %>
    <%= render "shared/components/bread_crumbs", links: [['Home', courses_path], ["Explore our Programs", explore_programs_path], [@program.name, nil]] %>
  <% end %>
  <div class="flex justify-between mb-4">
    <%= render 'shared/components/back_button', back_link: :back %>
    <div class="flex gap-4">
      <% if current_user.privileged_user? %>
        <% unless @courses.blank? %>
          <%= link_to add_courses_program_path(@program) do %>
            <%= button_component(text: 'Add courses', icon_name: "plus") %>
          <% end %>
        <% end %>
      <% end %>   
      <% unless @program.program_users.exists?(user: current_user) %>
        <%= button_to choose_programs_path(program_id: @program.id), method: :post do %>
          <%= button_component(text: 'Join program') %>
        <% end %>
      <% end %>  
    </div>
  </div>
  <div id="program-courses">
    <%= render "course_list", program: @program, courses: @courses %>
  </div>
</div>
